<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RapidFlex - Entregas de Última Milla</title>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
  
  <link href="estilos.css" rel="stylesheet" />
  <link href="responoveglobal.css" rel="stylesheet" />
  <link rel="icon" type="image/png" href="logo.png">


  <style>
    :root{ --topbar-height:56px; }
    /* El header de index no muestra banner, los banners viven en las vistas */
    #site-header { background-image: none !important; height:auto !important; min-height:0 !important; }
    /* Loader de transiciones */
    #route-loader {
      display: none;
      position: fixed;
      left: 0; right: 0; bottom: 0;
      top: var(--topbar-height,56px);
      background: #ffffff(255, 255, 255, 0.6);
      z-index: 2147483647;
      opacity: 1;
      pointer-events: all;
      transition: opacity .2s ease;
    }
    #route-loader.rf-hide { opacity: 0; pointer-events: none; }
    #route-loader.rf-hidden { display: none !important; }
    #route-loader::after {
      content: "";
      width: 38px; height: 38px;
      border-radius: 50%;
      border: 4px solid #00d1b2;
      border-top-color: transparent;
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%,-50%);
      animation: rfspin .9s linear infinite;
    }
    @keyframes rfspin { to { transform: translate(-50%,-50%) rotate(360deg); } }

    /* Botón "Menú" */
    #btnBackMenu{
      display:inline-flex; align-items:center; justify-content:center;
      height:45px; padding:0 20px; border-radius:9999px;
      font-size:16px; font-weight:700;
      background:#00d1b2; color:#fff !important; text-decoration:none; cursor:pointer;
      transition: background-color .2s ease, color .2s ease;
    }
    #btnBackMenu:hover, #btnBackMenu:focus-visible{ background:#0033aa; color:#fff !important; }
    #topbar .nav-links a#btnBackMenu:hover{ background:#0033aa !important; }

    :root{ --topbar-height: 40px; --topbar-pad-y: 10px; }
    #topbar{
      position: fixed; top: 0; left: 0; right: 0;
      min-height: var(--topbar-height);
      padding: var(--topbar-pad-y) 20px;
      background: #ffffff;
      display: flex; align-items: center; justify-content: space-between;
      border-bottom: 1px solid #ffffff;
      z-index: 10000; box-sizing: border-box; zoom: 85%;
    }
    #topbar .nav-logo img { height: 50px; width: auto; margin-top: 0; }
    #topbar .nav-links { display:flex; align-items:center; gap:16px; }
    #topbar .nav-links a.btn-cotiza {
      height: 40px; display:inline-flex; align-items:center; justify-content:center;
      padding: 0 20px; border-radius: 9999px; font-weight:700; font-size:20px;
    }
    #app{ padding-top: var(--topbar-height,20px); }
    #app header{ height: 500x !important; margin-top: calc(1 * var(--topbar-pad-y, 100px)) !important; padding-top: 0px !important; }
    #app .hero-text{ top: 137px; }
  </style>
</head>
<body>
  <!-- Topbar global y fijo -->
  <header id="site-header">
    <nav id="topbar">
      <div class="nav-logo">
        <a href="#/menu" aria-label="Ir a inicio">
          <img src="logo.png" alt="Logo" />
        </a>
      </div>
      <div class="nav-links">
        <!-- Botón que aparece SOLO fuera del menú -->
        <a id="btnBackMenu" href="#/menu" class="btn-cotiza"></a>
        <a id="nav_nosotros" href="#/nosotros" class="btn-cotiza" data-view="nosotros"></a>
        <a id="nav_servicio" href="#/servicio" class="btn-cotiza" data-view="servicio"></a>
        <a id="nav_despachar" href="javascript:void(0)" class="btn-cotiza" onclick="openModal('modalEmpresa')"></a>
        <a id="nav_repartidor" href="javascript:void(0)" class="btn-cotiza" onclick="openModal('modalRepartidor')"></a>
      </div>
    </nav>
  </header>








  <!-- Contenedor SPA -->
  <div id="route-loader" aria-hidden="true"></div>
  <div id="app" role="main" aria-live="polite"></div>

  <!-- Modales globales -->
  <div id="modalEmpresa" class="modal" style="display:none">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('modalEmpresa')">&times;</span>
      <h2 id="modal_empresa_titulo"></h2>
      <form id="empresaForm">
        <input type="text" name="nombre" placeholder="Nombre" required>
        <input type="email" name="email" placeholder="Email" required>
        <input type="tel" name="telefono" placeholder="Teléfono" required>
        <textarea name="mensaje" rows="4" placeholder="Mensaje" required></textarea>
        <input type="hidden" name="status" value="Nuevo">
        <button type="submit" id="modal_empresa_boton"></button>
        <div class="loader" id="loaderEmpresa"></div>
      </form>
    </div>
  </div>

  <div id="modalRepartidor" class="modal" style="display:none">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('modalRepartidor')">&times;</span>
      <h2 id="modal_repartidor_titulo"></h2>
      <form id="repartidorForm">
        <input type="text" name="nombre" placeholder="Nombre" required>
        <input type="email" name="email" placeholder="Email" required>
        <input type="tel" name="telefono" placeholder="Teléfono" required>
        <textarea name="mensaje" rows="4" placeholder="Mensaje" required></textarea>
        <input type="hidden" name="status" value="Nuevo">
        <button type="submit" id="modal_repartidor_boton"></button>
        <div class="loader" id="loaderRepartidor"></div>
      </form>
    </div>
  </div>

  <footer>
    <!-- Botón flotante WhatsApp -->
    <a href="https://wa.me/56949399570?text=Hola,%20quiero%20m%C3%A1s%20informaci%C3%B3n" target="_blank" class="whatsapp-float" title="Escríbenos por WhatsApp" rel="noopener">
      <img src="Whatsapapp.png" alt="WhatsApp" />
    </a>

    <p id="footer_copy"></p>
    <div class="redes-sociales">
      <a href="https://www.instagram.com/rapidflex.flex/" target="_blank"><img src="instagram.png" alt="Instagram" /></a>
      <a href="https://www.tiktok.com/@rapid.flex" target="_blank"><img src="tiktok.png" alt="TikTok" /></a>
      <a href="https://www.facebook.com/profile.php?id=61577021292544" target="_blank"><img src="facebook.png" alt="Facebook" /></a>
    </div>
  </footer>

  <!-- Scripts base -->
  <script src="rapiflexd-hero.js"></script>
  <script src="rapiflexd-script.js"></script>
  <script src="spa-router.js"></script>
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      if (!location.hash) location.hash = '#/menu';
      window.SPARouter.init();
    });
  </script>


  <!-- Config carrusel por defecto -->
  <script>
    window.HERO_IMAGES = ['banner.png','logo-tienda.png','logo-circulos.png'];
    const _ocultar = new Set(['logo-tienda.png','logo-circulos.png']);
    window.HERO_CAPTIONS = window.HERO_IMAGES.map(n => _ocultar.has(n) ? null : undefined);
    window.HERO_AUTOPLAY_MS = 5000;
  </script>

<script src="https://cdn.jsdelivr.net/npm/xlsx@0.19.3/dist/xlsx.full.min.js"></script>
<script src="excel-config.js"></script>

<script>
  (async () => {
    try {
      const cfg = await ExcelConfig.load('config_spa.xlsx');
      ExcelConfig.applyToSPA(cfg); // Aplica colores, favicon, hero, vistas
    } catch(e) {
      console.warn('No se pudo cargar config_spa.xlsx, usando defaults.', e);
    }
    SPARouter.init();
  })();
</script>

  <!-- Cargador Excel para index (shell) -->
  <script src="clienteIndex.js"></script>
  <script src="clienteNosotros.js"></script>
  <script src="clienteServicio.js"></script>
  <script src="clienteMenu.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</body>
</html>
